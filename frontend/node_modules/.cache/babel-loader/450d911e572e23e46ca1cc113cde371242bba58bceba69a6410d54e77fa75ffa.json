{"ast":null,"code":"/*-\n * Copyright (c) 2018, 2024 Oracle and/or its affiliates. All rights reserved.\n *\n * Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl\n *\n * Please see LICENSE.txt file included in the top-level directory of the\n * appropriate download for a copy of the license and additional information.\n */\n\n'use strict';\n\nconst assert = require('assert');\nclass MinHeap {\n  constructor(cmp, arr) {\n    this._cmp = cmp;\n    if (arr) {\n      this._a = arr;\n      this._build();\n    } else {\n      this._a = [];\n    }\n  }\n  _parent(i) {\n    return Math.floor((i - 1) / 2);\n  }\n  _left(i) {\n    return 2 * i + 1;\n  }\n  _right(i) {\n    return 2 * i + 2;\n  }\n  _comp(i, j) {\n    return this._cmp(this._a[i], this._a[j]);\n  }\n  _swap(i, j) {\n    const val = this._a[i];\n    this._a[i] = this._a[j];\n    this._a[j] = val;\n  }\n  _filterDown(i) {\n    for (;;) {\n      const l = this._left(i);\n      const r = this._right(i);\n      let min = l < this.size && this._comp(l, i) < 0 ? l : i;\n      if (r < this.size && this._comp(r, min) < 0) {\n        min = r;\n      }\n      if (i === min) {\n        break;\n      }\n      this._swap(i, min);\n      i = min;\n    }\n  }\n  _filterUp(i) {\n    while (i > 0) {\n      let p = this._parent(i);\n      if (this._comp(p, i) <= 0) {\n        break;\n      }\n      this._swap(i, p);\n      i = p;\n    }\n  }\n  _build() {\n    for (let i = Math.floor(this.size / 2); i >= 0; i--) {\n      this._filterDown(i);\n    }\n  }\n  _remove(i) {\n    assert(i < this._a.length);\n    this._a[i] = this._a.pop();\n    if (!i || this._comp(this._parent(i), i) < 0) {\n      this._filterDown(i);\n    } else {\n      this._filterUp(i);\n    }\n  }\n  get size() {\n    return this._a.length;\n  }\n  peek() {\n    return this._a[0];\n  }\n  pop() {\n    if (!this._a.length) {\n      return;\n    }\n    const min = this._a[0];\n    const last = this._a.pop();\n    if (this._a.length) {\n      this._a[0] = last;\n      this._filterDown(0);\n    }\n    return min;\n  }\n  add(val) {\n    this._a.push(val);\n    this._filterUp(this._a.length - 1);\n  }\n  filter(cb) {\n    return new MinHeap(this._cmp, this._a.filter(cb));\n  }\n}\nmodule.exports = MinHeap;","map":{"version":3,"names":["assert","require","MinHeap","constructor","cmp","arr","_cmp","_a","_build","_parent","i","Math","floor","_left","_right","_comp","j","_swap","val","_filterDown","l","r","min","size","_filterUp","p","_remove","length","pop","peek","last","add","push","filter","cb","module","exports"],"sources":["C:/Users/teddy/Desktop/VSCodeProjects/Smorepedia/smoresapp/node_modules/oracle-nosqldb/lib/query/min_heap.js"],"sourcesContent":["/*-\n * Copyright (c) 2018, 2024 Oracle and/or its affiliates. All rights reserved.\n *\n * Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl\n *\n * Please see LICENSE.txt file included in the top-level directory of the\n * appropriate download for a copy of the license and additional information.\n */\n\n'use strict';\n\nconst assert = require('assert');\n\nclass MinHeap {\n\n    constructor(cmp, arr) {\n        this._cmp = cmp;\n        if (arr) {\n            this._a = arr;\n            this._build();\n        } else {\n            this._a = [];\n        }\n    }\n\n    _parent(i) {\n        return Math.floor((i - 1) / 2);\n    }\n\n    _left(i) {\n        return 2 * i + 1;\n    }\n\n    _right(i) {\n        return 2 * i + 2;\n    }\n\n    _comp(i, j) {\n        return this._cmp(this._a[i], this._a[j]);\n    }\n\n    _swap(i, j) {\n        const val = this._a[i];\n        this._a[i] = this._a[j];\n        this._a[j] = val;\n    }\n\n    _filterDown(i) {\n        for(;;) {\n            const l = this._left(i);\n            const r = this._right(i);\n            let min = l < this.size && this._comp(l, i) < 0 ? l : i;\n            if (r < this.size && this._comp(r, min) < 0) {\n                min = r;\n            }\n            if (i === min) {\n                break;\n            }\n            this._swap(i, min);\n            i = min;\n        }\n    }\n\n    _filterUp(i) {\n        while(i > 0) {\n            let p = this._parent(i);\n            if (this._comp(p, i) <= 0) {\n                break;\n            }\n            this._swap(i, p);\n            i = p;\n        }\n    }\n\n    _build() {\n        for(let i = Math.floor(this.size / 2); i >= 0; i--) {\n            this._filterDown(i);\n        }\n    }\n\n    _remove(i) {\n        assert(i < this._a.length);\n        this._a[i] = this._a.pop();\n        if (!i || this._comp(this._parent(i), i) < 0) {\n            this._filterDown(i);\n        } else {\n            this._filterUp(i);\n        }\n    }\n\n    get size() {\n        return this._a.length;\n    }\n\n    peek() {\n        return this._a[0];\n    }\n\n    pop() {\n        if (!this._a.length) {\n            return;\n        }\n        const min = this._a[0];\n        const last = this._a.pop();\n        if (this._a.length) {\n            this._a[0] = last;\n            this._filterDown(0);\n        }\n        return min;\n    }\n\n    add(val) {\n        this._a.push(val);\n        this._filterUp(this._a.length - 1);\n    }\n\n    filter(cb) {\n        return new MinHeap(this._cmp, this._a.filter(cb));\n    }\n\n}\n\nmodule.exports = MinHeap;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}