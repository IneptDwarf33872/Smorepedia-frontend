{"ast":null,"code":"import React,{useState}from'react';import Logo from'../assets/smorelogo.png';import'./Topbar.css';import{query}from'../middleware';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const results=[];const titles=query('/byprop',{prop:'title'});const pages=[];for(let index in titles){pages.push(titles[index]);}const curateResults=soFar=>{console.log(\"Made it\"+soFar);results.length=0;let count=0;for(let i=0;i<pages.length;i++){if(pages[i].substring(0,soFar.length)===soFar){results.push(/*#__PURE__*/_jsx(\"div\",{children:pages[i]},count));count++;}if(count===5){break;}}};function Topbar(){const[userInBar,setUserInBar]=useState(false);const[searchVal,setSearchVal]=useState('');const handleInputChange=event=>{const newValue=event.target.value;setSearchVal(newValue);if(searchVal.length===0){results.length=0;console.log('len to 0');}console.log(newValue);curateResults(newValue);};const onBarFocus=()=>{if(searchVal===''){curateResults('');}setUserInBar(true);};const onBarDefocus=()=>{setUserInBar(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"Topbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsx(\"img\",{src:Logo,className:\"logo\"}),/*#__PURE__*/_jsx(\"header\",{className:\"logofont\",children:\"S'morepedia\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(\"form\",{className:\"search-box\",children:/*#__PURE__*/_jsx(\"input\",{className:\"search-bar\",type:\"search\",placeholder:\"Search S'morepedia\",onFocus:onBarFocus,onBlur:onBarDefocus,value:searchVal,onChange:handleInputChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"results\",style:{display:userInBar?'flex':'none'},children:results.map((element,index)=>/*#__PURE__*/_jsx(React.Fragment,{children:element},index))})]})]});}export default Topbar;","map":{"version":3,"names":["React","useState","Logo","query","jsx","_jsx","jsxs","_jsxs","results","titles","prop","pages","index","push","curateResults","soFar","console","log","length","count","i","substring","children","Topbar","userInBar","setUserInBar","searchVal","setSearchVal","handleInputChange","event","newValue","target","value","onBarFocus","onBarDefocus","className","src","type","placeholder","onFocus","onBlur","onChange","style","display","map","element","Fragment"],"sources":["C:/Users/teddy/Desktop/VSCodeProjects/Smorepedia/smoresapp/src/components/Topbar.js"],"sourcesContent":["import React, {useState} from 'react'\r\nimport Logo from '../assets/smorelogo.png'\r\nimport './Topbar.css'\r\nimport {query} from '../middleware'\r\n\r\nconst results = [\r\n\r\n]\r\nconst titles = query('/byprop', {prop: 'title'});\r\nconst pages = [];\r\nfor(let index in titles){\r\n    pages.push(titles[index]);\r\n}\r\n\r\nconst curateResults = (soFar) => {\r\n    console.log(\"Made it\" + soFar)\r\n    results.length = 0;\r\n    let count = 0;\r\n    for(let i = 0; i < pages.length; i++){\r\n        if(pages[i].substring(0, soFar.length) === soFar){\r\n            results.push(\r\n                <div key={count}>\r\n                    {pages[i]}\r\n                </div>\r\n            )\r\n            count++;\r\n        }\r\n        if(count === 5){\r\n            break;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction Topbar() {\r\n    const [userInBar, setUserInBar] = useState(false);\r\n    const [searchVal, setSearchVal] = useState('')\r\n    const handleInputChange = (event) =>{\r\n        const newValue = event.target.value;\r\n        setSearchVal(newValue);\r\n        if(searchVal.length === 0){\r\n            results.length = 0;\r\n            console.log('len to 0')\r\n        }\r\n        console.log(newValue)\r\n        curateResults(newValue);\r\n    }\r\n    const onBarFocus = () => {\r\n        if(searchVal === ''){\r\n            curateResults('')\r\n        }\r\n        setUserInBar(true)\r\n    }\r\n    const onBarDefocus = () => {\r\n        setUserInBar(false)\r\n    }\r\n  return (\r\n    <div className='Topbar'>\r\n        <div className='left'>\r\n            <img src={Logo} className='logo'/>\r\n            <header className='logofont'>S'morepedia</header>  \r\n        </div>\r\n        <div className='right'> \r\n            <form className = \"search-box\">\r\n                <input\r\n                className='search-bar'\r\n                type = \"search\" \r\n                placeholder = \"Search S'morepedia\" \r\n                onFocus={onBarFocus}\r\n                onBlur={onBarDefocus}\r\n                value={searchVal}\r\n                onChange={handleInputChange}\r\n                />\r\n            </form>\r\n            <div className='results' style={{display: userInBar ? 'flex': 'none'}}>\r\n                {results.map((element, index) => (\r\n                    <React.Fragment key={index}>\r\n                        {element}\r\n                    </React.Fragment>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Topbar\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}